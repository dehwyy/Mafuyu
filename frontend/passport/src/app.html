<!DOCTYPE html>
<html lang="en" class="dark">

<head>
	<script type="module" defer>
		// @see (https://github.com/talkjs/country-flag-emoji-polyfill)
		import { polyfillCountryFlagEmojis } from "https://cdn.skypack.dev/country-flag-emoji-polyfill";
		polyfillCountryFlagEmojis();
	</script>
	<meta charset="utf-8" />
	<link rel="icon" href="%sveltekit.assets%/favicon.ico" />
	<meta name="viewport" content="width=device-width" />
	%sveltekit.head%
</head>

<body data-sveltekit-preload-data="hover">
	<script>
		let settings = JSON.parse(localStorage.getItem("settings") || "{}")

		// insert default settings
		if (!Object.keys(settings).length) {
			settings = {
				animatedBackground: true,
				theme: current_theme
			}

			localStorage.setItem("settings", JSON.stringify(settings))
		}

		const body = document.querySelector("body")
		body.dataset.theme = settings.theme
	</script>
	<div style="display: contents" class="h-full overflow-hidden">
		%sveltekit.body%
	</div>
</body>

</html>
